<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover">
  <title>Avalanches — Cardápio Digital</title>
  
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />

  <style>
    :root {
      --bg: #141416;         
      --card: #232326;       
      --input-bg: #2c2c2e;
      --muted: #9ca3af;
      --text: #ffffff;
      --accent: #ff9f0a;
      --success: #34c759;    
      --danger: #ff453a;
      --radius: 18px;
    }

    * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
    html, body { height: 100%; margin: 0; background-color: var(--bg); font-family: -apple-system, system-ui, sans-serif; color: var(--text); overflow-x: hidden; }

    .app { max-width: 500px; margin: 0 auto; padding: 16px; padding-bottom: 100px; min-height: 100vh; }

    /* ESTADO FECHADO */
    body.closed .sticky-controls, body.closed .menu-list, body.closed .cartbar, body.closed #cartPage, body.closed #modal {
      opacity: 0.5; filter: grayscale(100%); pointer-events: none; user-select: none;
    }

    #toast-container { position: fixed; top: 20px; left: 50%; transform: translateX(-50%); z-index: 9999; width: 90%; max-width: 400px; pointer-events: none; }
    .toast { background: rgba(40, 40, 43, 0.95); color: #fff; padding: 14px 20px; border-radius: 50px; font-size: 14px; font-weight: 600; margin-bottom: 10px; display: flex; align-items: center; gap: 10px; animation: slideDown 0.4s forwards; backdrop-filter: blur(10px); border: 1px solid rgba(255,255,255,0.1); }
    @keyframes slideDown { from { transform: translateY(-50px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }

    .topbar { display: flex; flex-direction: column; align-items: center; margin-bottom: 20px; padding: 20px; background: var(--card); border-radius: 24px; text-align: center; border: 1px solid rgba(255,255,255,0.05); }
    
    /* CORREÇÃO DA LOGO AQUI: object-fit: cover garante que não distorça */
    .logo { width: 64px; height: 64px; border-radius: 50%; border: 2px solid var(--accent); margin-bottom: 10px; object-fit: cover; }
    
    .brand h1 { margin: 0; font-size: 24px; }
    .status-badge { display: inline-flex; align-items: center; gap: 6px; padding: 6px 12px; border-radius: 100px; font-size: 11px; font-weight: 700; text-transform: uppercase; margin-bottom: 12px; border: 1px solid rgba(52, 199, 89, 0.3); color: var(--success); }
    .status-badge.closed { color: var(--danger); border-color: var(--danger); }
    .status-dot { width: 8px; height: 8px; background: currentColor; border-radius: 50%; }

    .sticky-controls { position: sticky; top: 0; z-index: 10; background: rgba(20, 20, 22, 0.9); backdrop-filter: blur(10px); padding: 10px 0; }
    .search { width: 100%; padding: 12px; border-radius: 12px; border: 1px solid #333; background: var(--input-bg); color: #fff; }
    .tabs { display: flex; gap: 8px; overflow-x: auto; padding: 10px 0; }
    .tab { padding: 8px 16px; border-radius: 20px; background: #333; color: var(--muted); border: none; white-space: nowrap; cursor: pointer; }
    .tab.active { background: var(--accent); color: #000; }

    .card { display: flex; gap: 12px; background: var(--card); padding: 10px; border-radius: 16px; margin-bottom: 12px; cursor: pointer; }
    .thumb { width: 80px; height: 80px; border-radius: 12px; overflow: hidden; flex-shrink: 0; }
    .thumb img { width: 100%; height: 100%; object-fit: cover; }
    .info { flex: 1; display: flex; flex-direction: column; justify-content: space-between; }
    .price { color: var(--accent); font-weight: 700; }

    .cartbar { position: fixed; bottom: 20px; left: 50%; transform: translateX(-50%); width: 90%; max-width: 450px; background: #1c1c1e; padding: 12px 20px; border-radius: 100px; display: flex; justify-content: space-between; align-items: center; box-shadow: 0 10px 30px #000; z-index: 99; border: 1px solid #333; }
    .btn-view-cart { background: var(--accent); border: none; padding: 10px 20px; border-radius: 50px; font-weight: 700; cursor: pointer; }

    .page-slide { position: fixed; inset: 0; background: var(--bg); z-index: 200; transform: translateX(100%); transition: 0.3s; display: flex; flex-direction: column; }
    .page-slide.active { transform: translateX(0); }
    .page-content { flex: 1; overflow-y: auto; padding: 20px; }
    .modal-back { position: fixed; inset: 0; background: rgba(0,0,0,0.8); display: none; align-items: flex-end; justify-content: center; z-index: 300; }
    .modal-card { background: #1c1c1e; width: 100%; max-width: 500px; border-radius: 24px 24px 0 0; padding: 20px; max-height: 90vh; overflow-y: auto; }

    .clean-input { width: 100%; padding: 14px; border-radius: 12px; background: var(--input-bg); border: 1px solid #333; color: #fff; margin-bottom: 10px; }
    .pay-option { display: flex; align-items: center; padding: 12px; background: #2c2c2e; border-radius: 12px; margin-bottom: 8px; cursor: pointer; border: 1px solid transparent; }
    .pay-option.selected { border-color: var(--accent); background: rgba(255,159,10,0.1); }
    
    .map-container { width: 100%; height: 220px; border-radius: 12px; margin-bottom: 10px; overflow: hidden; border: 1px solid #444; position: relative; }
    #map { width: 100%; height: 100%; z-index: 1; }

    .btn { width: 100%; padding: 14px; border-radius: 12px; border: none; font-weight:
